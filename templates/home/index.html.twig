{% extends 'base.html.twig' %}

{% block title %}Kar&Go - Réservez vos billets de bus en ligne en Tunisie{% endblock %}

{% block body %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0" data-aos="fade-right">
                <h1 class="hero-title">
                    Trouvez des billets de bus à petits prix pour votre destination
                </h1>
                <p class="hero-subtitle">
                    Comparez et réservez votre prochain trajet en un clin d'œil partout en Tunisie
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Search Card Section -->
<section style="margin-top: -80px; padding-bottom: 80px; position: relative; z-index: 100;">
    <div class="container">
        <div class="search-card" data-aos="fade-up">
            <!-- Tabs -->
            <div class="search-tabs">
                <button class="search-tab active">
                    <i class="fas fa-bus"></i> Bus
                </button>
            </div>
            
            <form action="{{ path('app_search_trajet') }}" method="GET">
                <div class="row g-3">
                    <!-- Départ -->
                    <div class="col-md-6 position-relative">
                        <label class="form-label">
                            <i class="fas fa-map-marker-alt" style="color: var(--primary);"></i> 
                            Ville de départ
                        </label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <i class="fas fa-circle"></i>
                            </span>
                            <input 
                                type="text" 
                                name="depart" 
                                class="form-control" 
                                placeholder="D'où partez-vous ?" 
                                value="Tunis" 
                                required
                                autocomplete="off"
                            >
                        </div>
                        
                        <!-- Swap Button -->
                        <button type="button" class="swap-btn" title="Inverser départ et arrivée">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>
                    
                    <!-- Arrivée -->
                    <div class="col-md-6">
                        <label class="form-label">
                            <i class="fas fa-map-marker-alt" style="color: var(--error);"></i> 
                            Ville d'arrivée
                        </label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </span>
                            <input 
                                type="text" 
                                name="arrivee" 
                                class="form-control" 
                                placeholder="Où allez-vous ?" 
                                value="Sfax" 
                                required
                                autocomplete="off"
                            >
                        </div>
                    </div>
                    
                    <!-- Date départ -->
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-calendar-alt" style="color: var(--accent);"></i> 
                            Date de départ
                        </label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <i class="fas fa-calendar"></i>
                            </span>
                            <input 
                                type="date" 
                                name="date" 
                                class="form-control" 
                                value="{{ "now"|date("Y-m-d") }}" 
                                required
                            >
                        </div>
                    </div>
                    
                    <!-- Date retour -->
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-calendar-alt" style="color: var(--warning);"></i> 
                            Date de retour <span style="color: var(--gray-400); font-size: 0.875rem;">(facultatif)</span>
                        </label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <i class="fas fa-calendar"></i>
                            </span>
                            <input 
                                type="date" 
                                name="date_retour" 
                                class="form-control"
                            >
                        </div>
                    </div>
                    
                    <!-- Passagers -->
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-users" style="color: var(--secondary);"></i> 
                            Nombre de passagers
                        </label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <i class="fas fa-user"></i>
                            </span>
                            <select name="passagers" class="form-control">
                                <option value="1">1 passager</option>
                                <option value="2">2 passagers</option>
                                <option value="3">3 passagers</option>
                                <option value="4">4 passagers</option>
                                <option value="5">5+ passagers</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Search Button -->
                <button type="submit" class="btn btn-search mt-4">
                    <i class="fas fa-search"></i> Rechercher des billets
                </button>
            </form>
        </div>
    </div>
</section>

<!-- Trust Badges Section -->
<section class="trust-section">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4 mb-md-0" data-aos="fade-up" data-aos-delay="100">
                <div class="trust-badge">
                    <div class="badge-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h5>Plus de 1000 voyageurs satisfaits</h5>
                    <p>Rejoignez notre communauté et profitez de plus de 500 trajets disponibles partout en Tunisie</p>
                </div>
            </div>
            
            <div class="col-md-4 mb-4 mb-md-0" data-aos="fade-up" data-aos-delay="200">
                <div class="trust-badge">
                    <div class="badge-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h5>Service client 24h/24 et 7j/7</h5>
                    <p>Notre équipe est disponible à tout moment pour répondre à vos questions et vous assister</p>
                </div>
            </div>
            
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
                <div class="trust-badge">
                    <div class="badge-icon">
                        <i class="fas fa-undo-alt"></i>
                    </div>
                    <h5>Annulation flexible et gratuite</h5>
                    <p>Modifiez ou annulez votre réservation facilement et recevez un remboursement intégral</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Routes Section -->
<section class="routes-section" id="popular-routes">
    <div class="container">
        <h2 class="section-title" data-aos="fade-up">Trajets populaires en Tunisie</h2>
        <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
            Découvrez nos destinations les plus prisées et réservez votre billet dès maintenant
        </p>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Tunis <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Sfax
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 3h 30min</span>
                                <span><i class="fas fa-road"></i> 270 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            15 DT
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="150">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Tunis <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Sousse
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 2h 00min</span>
                                <span><i class="fas fa-road"></i> 140 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            10 DT
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Tunis <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Gabès
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 5h 30min</span>
                                <span><i class="fas fa-road"></i> 405 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            25 DT
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="250">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Sfax <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Sousse
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 2h 30min</span>
                                <span><i class="fas fa-road"></i> 130 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            12 DT
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Tunis <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Bizerte
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 1h 15min</span>
                                <span><i class="fas fa-road"></i> 65 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            8 DT
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="350">
                <div class="route-card">
                    <div class="route-header">
                        <div>
                            <div class="route-cities">
                                Tunis <span class="route-arrow"><i class="fas fa-arrow-right"></i></span> Kairouan
                            </div>
                            <div class="route-info">
                                <span><i class="fas fa-clock"></i> 1h 45min</span>
                                <span><i class="fas fa-road"></i> 160 km</span>
                            </div>
                        </div>
                        <div class="route-price">
                            11 DT
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section" id="features">
    <div class="container">
        <h2 class="section-title" data-aos="fade-up">Pourquoi choisir Kar&Go ?</h2>
        <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
            Une expérience de réservation simple, rapide et sécurisée pour tous vos déplacements
        </p>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h4>Réservation instantanée</h4>
                    <p>Réservez votre billet en moins de 2 minutes grâce à notre interface intuitive et rapide</p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="150">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h4>Paiement 100% sécurisé</h4>
                    <p>Toutes vos transactions sont protégées par un système de cryptage avancé</p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-qrcode"></i>
                    </div>
                    <h4>Billet électronique QR Code</h4>
                    <p>Recevez instantanément votre billet par email avec un QR code à scanner</p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="250">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h4>Support disponible 24/7</h4>
                    <p>Une équipe dédiée pour répondre à toutes vos questions à tout moment</p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-undo-alt"></i>
                    </div>
                    <h4>Modification et annulation</h4>
                    <p>Changez vos plans facilement avec notre politique d'annulation flexible</p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="350">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                    <h4>Prix les plus compétitifs</h4>
                    <p>Comparez les prix et profitez des meilleurs tarifs du marché tunisien</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Reviews Section -->
<section class="reviews-section">
    <div class="container">
        <h2 class="section-title" data-aos="fade-up">Ce que disent nos voyageurs</h2>
        <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
            Découvrez les avis authentiques de voyageurs tunisiens qui nous font confiance
        </p>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="reviewer-info">
                            <h5 class="reviewer-name">Mohamed Ben Ali</h5>
                            <p class="reviewer-location">
                                <i class="fas fa-map-marker-alt"></i> Tunis
                            </p>
                        </div>
                    </div>
                    <div class="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">
                        Service exceptionnel ! J'ai réservé mon billet en quelques minutes et je l'ai reçu directement sur mon téléphone. Plus besoin de perdre du temps à la gare.
                    </p>
                    <div class="review-date">
                        <i class="far fa-clock"></i> Il y a 1 semaine
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="150">
                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="reviewer-info">
                            <h5 class="reviewer-name">Fatma Sfaxia</h5>
                            <p class="reviewer-location">
                                <i class="fas fa-map-marker-alt"></i> Sfax
                            </p>
                        </div>
                    </div>
                    <div class="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="review-text">
                        J'utilise Kar&Go pour tous mes déplacements entre Sfax et Tunis. Les prix sont excellents et le service est toujours fiable. Je recommande vivement !
                    </p>
                    <div class="review-date">
                        <i class="far fa-clock"></i> Il y a 3 jours
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="review-card">
                    <div class="review-header">
                        <div class="reviewer-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="reviewer-info">
                            <h5 class="reviewer-name">Karim Sahli</h5>
                            <p class="reviewer-location">
                                <i class="fas fa-map-marker-alt"></i> Sousse
                            </p>
                        </div>
                    </div>
                    <div class="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <p class="review-text">
                        Plateforme très pratique et moderne. L'application est intuitive et le support client répond rapidement en cas de besoin. Excellent travail !
                    </p>
                    <div class="review-date">
                        <i class="far fa-clock"></i> Il y a 2 semaines
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content text-center text-white" data-aos="zoom-in">
            <h2 class="display-4 fw-bold mb-4">Prêt à voyager avec Kar&Go ?</h2>
            <p class="lead mb-5">
                Rejoignez des milliers de voyageurs qui font confiance à notre plateforme pour leurs déplacements en Tunisie
            </p>
            {% if not app.user %}
                <a href="{{ path('app_register') }}" class="btn btn-light btn-lg px-5 py-3" style="border-radius: 12px; font-weight: 700; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <i class="fas fa-rocket"></i> Créer un compte gratuitement
                </a>
            {% else %}
                <a href="{{ path('app_search_trajet') }}" class="btn btn-light btn-lg px-5 py-3" style="border-radius: 12px; font-weight: 700; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <i class="fas fa-search"></i> Rechercher un trajet maintenant
                </a>
            {% endif %}
        </div>
    </div>
</section>

{% endblock %}

{% block javascripts %}
{{ parent() }}
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({
        duration: 800,
        once: true,
        offset: 100
    });
</script>
{% endblock %}